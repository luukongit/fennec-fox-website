<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Audio Player</title>
  <style>
    /* Optional: Grundlegende Styles für Buttons, etc. */
    #playButton {
      cursor: pointer;
      padding: 0.5em 1em;
      margin-right: 1em;
    }
    #downloadLink {
      /* Platziert den Download-Button weiter rechts */
      margin-left: auto;  
      text-decoration: none;
      padding: 0.5em 1em;
    }
    /* Container für Player-Elemente */
    .player-container {
      display: flex;
      align-items: center;
      width: 100%;              /* Nimmt gesamte Breite ein, damit margin-left:auto wirkt */
      max-width: 600px;         /* Optional: maximale Breite des Players */
      margin: 0 auto;           /* Zentriert den Player in der Seite */
      padding: 1em;
    }
    .player-container img {
      margin-right: 1em;
      max-height: 100px;        /* Beispielgröße fürs Bild (Cover) */
    }
    /* Verhindert die Standard-Audio-Kontrollen und Sichtbarkeit */
    audio {
      display: none;
    }
  </style>
</head>
<body>

  <!-- Player-Bereich -->
  <div class="player-container">
    <!-- Album-Cover oder Bild -->
    <img src="cover.jpg" alt="Cover" id="coverImage" />

    <!-- Play/Pause Button -->
    <button id="playButton">Play</button>

    <!-- Zeit-Anzeige: aktueller Zeitpunkt / Gesamtdauer -->
    <span id="timeDisplay">0:00</span> / <span id="durationDisplay">0:00</span>

    <!-- Download-Link, nun rechts positioniert -->
    <a id="downloadLink" href="audiofile.mp3" download>Download</a>
  </div>

  <!-- Audio-Element (ohne Autoplay, ohne Controls) -->
  <audio id="audioElement" src="audiofile.mp3" preload="metadata"></audio>

  <script>
    // Elemente referenzieren
    const audio = document.getElementById('audioElement');
    const playBtn = document.getElementById('playButton');
    const timeDisplay = document.getElementById('timeDisplay');
    const durationDisplay = document.getElementById('durationDisplay');

    // Hilfsfunktion: Sekunden in M:SS-Format umwandeln
    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return mins + ':' + (secs < 10 ? '0' + secs : secs);
    }

    // Event: Metadaten des Audios geladen (Dauer verfügbar)
    audio.addEventListener('loadedmetadata', () => {
      durationDisplay.textContent = formatTime(audio.duration);
    });

    // Event: Audio-Zeitupdate (aktuelle Wiedergabezeit anzeigen)
    audio.addEventListener('timeupdate', () => {
      timeDisplay.textContent = formatTime(audio.currentTime);
    });

    // Event: Wiedergabe zu Ende -> Button zurücksetzen und Zeit zurücksetzen
    audio.addEventListener('ended', () => {
      playBtn.textContent = 'Play';
      timeDisplay.textContent = formatTime(0);
      audio.currentTime = 0;  // Optional: Zurück an den Anfang springen
    });

    // Klick auf Play-Button: Audio abspielen oder pausieren
    playBtn.addEventListener('click', () => {
      if (audio.paused || audio.ended) {
        // *Starten* der Wiedergabe (Benutzerinteraktion, daher erlaubt)
        audio.play();
        playBtn.textContent = 'Pause';  // Button-Beschriftung ändern
      } else {
        // *Pausieren* der Wiedergabe
        audio.pause();
        playBtn.textContent = 'Play';
      }
    });
  </script>

</body>
</html>
